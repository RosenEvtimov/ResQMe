@model ResQMe.ViewModels.Animal.AnimalDetailsViewModel

<div class="container mt-4">
    <div class="row">

        <div class="col-md-6">
            <img src="@Model.ImageUrl"
                 class="img-fluid rounded"
                 style="height:400px; width:100%; object-fit:cover;" />
        </div>

        <div class="col-md-6">
            <h2>@Model.Name</h2>

            <p>
				<strong>Age:</strong> @Model.Age <br />
                <strong>Gender:</strong> @Model.Gender <br />
                <strong>Breed:</strong> @Model.BreedDisplay <br />
                <strong>Species:</strong> @Model.Species
            </p>

            @if (Model.IsAdopted)
            {
                <span class="badge bg-danger">Adopted</span>
            }
            else
            {
                <span class="badge bg-success">Available for adoption</span>
            }

            <hr />

            <h5>Description</h5>
            <p>@Model.Description</p>

            <hr />

            <h5>Shelter Information</h5>
            <p>
                <strong>Name:</strong> @Model.ShelterName <br />
                <strong>City:</strong> @Model.ShelterCity <br />
                <strong>Address:</strong> @Model.ShelterAddress <br />
                <strong>Phone:</strong> @Model.ShelterPhone <br />
                <strong>Email:</strong> @Model.ShelterEmail
            </p>

            @if (ViewBag.FromShelterId != null)
            {
                <a asp-controller="Shelter"
                   asp-action="Details"
                   asp-route-id="@ViewBag.FromShelterId"
                   class="btn btn-secondary mt-3">
                    Back to Shelter Details
                </a>
            }
            else
            {
                <a asp-action="Index"
                   class="btn btn-secondary mt-3">
                    Back to All Animals
                </a>
            }

            @if (User.Identity != null && User.Identity.IsAuthenticated && User.IsInRole("User") && !Model.IsAdopted)
            {
                if (ViewBag.HasAlreadyRequested != null && (bool)ViewBag.HasAlreadyRequested)
                {
                    <div class="alert alert-warning mt-3">
                        You have already submitted an adoption request for this animal.
                    </div>
                }
                else
                {
                    <a asp-controller="AdoptionRequest"
                       asp-action="Create"
                       asp-route-animalId="@Model.Id"
                       class="btn btn-success mt-3">
                        Adopt Me
                    </a>
                }
            }
        </div>

    </div>
</div>